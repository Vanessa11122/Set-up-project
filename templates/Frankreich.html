{% extends "base.html" %}

{% block content %}

<style>
  body {
    font-family: Arial, sans-serif;
    background-color: #f7f7f7;
  }

  h1 {
    text-align: center;
    color: #2c3e50;
  }

  form {
    background-color: #fff;
    max-width: 600px;
    margin: 20px auto;
    padding: 25px;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
  }

  label {
    font-weight: bold;
    margin-top: 10px;
    display: block;
  }

  select, input[type="range"] {
    width: 100%;
    padding: 8px;
    margin-top: 6px;
    margin-bottom: 15px;
    border-radius: 6px;
    border: 1px solid #ccc;
    box-sizing: border-box;
  }

  button {
    background-color: #3498db;
    color: white;
    border: none;
    padding: 12px;
    border-radius: 8px;
    cursor: pointer;
    width: 100%;
    font-size: 16px;
  }

  button:hover {
    background-color: #2980b9;
  }

  .budget-display {
    text-align: right;
    font-weight: bold;
    margin-bottom: 15px;
  }
</style>

<h1>Frankreich Reiseplaner</h1>

<form method="post">

  <!-- Reiseziel -->
  <label for="reiseziel">Reiseziel:</label>
  <select name="reiseziel" id="reiseziel" required onchange="this.form.submit()">
    <option value="" disabled {% if not selected_reiseziel %}selected{% endif %}>Bitte auswählen</option>
    {% for ziel in reiseziele %}
      <option value="{{ ziel.id }}" {% if ziel.id == selected_reiseziel|int %}selected{% endif %}>
        {{ ziel.name }}
      </option>
    {% endfor %}
  </select>

  <!-- Hotels nur anzeigen, wenn ein Reiseziel gewählt wurde -->
  {% if hotels %}
  <label for="hotel">Hotel:</label>
  <select name="hotel" id="hotel" required>
    <option value="" disabled selected>Bitte auswählen</option>
    {% for hotel in hotels %}
      <option value="{{ hotel.id }}" {% if hotel.id == selected_hotel|int %}selected{% endif %}>
        {{ hotel.name }} ({{ hotel.sterne }} Sterne, {{ hotel.preis_pro_nacht }}€)
      </option>
    {% endfor %}
  </select>
  {% endif %}

  <!-- Budget -->
  <label for="budget">Budget (€):</label>
  <input 
      type="range" 
      id="budget" 
      name="budget" 
      min="50" 
      max="500" 
      step="10" 
      value="{{ selected_budget if selected_budget else 150 }}"
      oninput="budgetWert.textContent = this.value"
  >
  <div class="budget-display">
    <span id="budgetWert">{{ selected_budget if selected_budget else 150 }}</span> €
  </div>

  <!-- Transportmittel -->
  <label for="transport">Transportmittel:</label>
  <select name="transport" id="transport" required>
    <option value="" disabled selected>Bitte auswählen</option>
    <option value="Auto">Auto</option>
    <option value="Bahn">Bahn</option>
    <option value="Flugzeug">Flugzeug</option>
    <option value="Bus">Bus</option>
  </select>

  <!-- Reisedauer -->
  <label for="dauer">Reisedauer:</label>
  <select name="dauer" id="dauer" required>
    <option value="" disabled selected>Bitte auswählen</option>
    <option value="3 Tage">3 Tage</option>
    <option value="5 Tage">5 Tage</option>
    <option value="7 Tage">7 Tage</option>
    <option value="10 Tage">10 Tage</option>
  </select>

  <button type="submit">Reise speichern</button>
</form>

{% endblock %}
